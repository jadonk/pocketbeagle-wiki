[[images/PocketBeagle-size-compare-small.jpg|598x400px]]

'''PocketBeagle'''

'''System Reference Manual '''

'''Revision A.x (on-line wiki edition)'''

'''November 15, 2017'''

'''Maintaining author: Jason Kridner ''jkridner@beagleboard.org'''''

'''Contributing Editor: Cathy Wicks  ''cathy@beagleboard.org'''''

'''THIS DOCUMENT '''

'''Terms'''
These design materials are *NOT SUPPORTED* and *DO NOT* constitute a reference design. Only “community” support is allowed via resources at [https://beagleboard.org/discuss BeagleBoard.org/discuss].

THERE IS NO WARRANTY FOR THE DESIGN MATERIALS, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE DESIGN MATERIALS “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE DESIGN MATERIALS IS WITH YOU. SHOULD THE DESIGN MATERIALS PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

In other words, you may use the design materials as you choose and there is no license with regards to usage in the manufacturing process. We mean it, these design materials may be totally unsuitable for any purposes. Don't blame us!

As a general rule, we don't encourage use of this or other off-the-shelf single board computers in commercial products without engaging with a manufacturer to create a supplier agreement and make sure that you can get material as your business demands. Further, we do update the design on occasions where we find it necessary and won't guarantee a supply of older revisions, though we do seek periodic manufacturing of all of our boards for a period of roughly 10 years and will make design changes to replace obsolete parts and that may impact your usage. If you do opt to use it in a product, you take full responsibility for that product.

Do not use the BeagleBoard.org logo or trademarks (such as BeagleBoard, BeagleBone and PocketBeagle) on your products without a [https://beagleboard.org/logo ''logo license''] from the BeagleBoard.org Foundation, but feel free to reference BeagleBoard.org.

See the [https://github.com/beagleboard/pocketbeagle/blob/master/LICENSE ''LICENSE''] file regarding the copyright of these materials.

= '''1.0 Introduction ''' =

This document is the '''System Reference Manual''' for PocketBeagle and covers its use and design. 
PocketBeagle is an ultra-tiny-yet-complete Linux-enabled, community-supported, open-source USB-key-fob-computer.  PocketBeagle features an incredible low cost, slick design and simple usage, making it the ideal development board for beginners and professionals alike.  Simply develop directly in a web browser providing you with a playground for programming and electronics.  Exploring is made easy with several available libraries and tutorials with many more coming.  

PocketBeagle will boot directly from a microSD card.  Load a Linux distribution onto your card, plug your board into your computer and get started.  PocketBeagle runs GNU.Linux, so you can leverage many different high-level programming languages and a large body of drivers that prevent you from needing to write a lot of your own software.  

This design will keep improving as the product matures based on feedback and experience. Software updates will be frequent and will be independent of the hardware revisions and as such not result in a change in the revision number of the board.
A great place to find out the latest news and projects for PocketBeagle is on the home page
[https://beagleboard.org/pocket ''www.beagleboard.org/pocket'' ]
======  Figure 1. PocketBeagle Home Page  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/1fig-PB-homepage.png]]

Make sure you check the support Wiki frequently for the most up to date information.
[https://github.com/beagleboard/pocketbeagle/wiki ''github.com/beagleboard/pocketbeagle/wiki'' ]

= '''2.0 Change History ''' =

This section describes the change history of this document and board. Document changes are not always a result of a board change. A board change will always result in a document change.

=== '''2.1 Document Change History'''  ===

===='''Table 1. Change History '''====

{|
!
'''Rev '''
!
'''Changes '''
!
'''Date '''
!
'''By '''
|-
|
A.x
|
Production Document
|
''November 15, 2017''
|
JK
|-

=== '''2.2 Board Changes'''  ===

===='''Table 2. Board History '''====
{|
!
'''Rev '''
!
'''Changes '''
!
'''Date '''
!
'''By '''
|-
|
PocketBone
|
OSH Park Project
|
April 18, 2016
|
MW
|-
|
A1
|
Preliminary
|
''February 14, 2017''
|
JK
|-
|
A2
|
Production
|
''September 22, 2017''
|
JK
|-
==== '''2.2.1 PocketBone'''  ====

The [https://oshpark.com/shared_projects/GWqtFu43 ''PocketBone''] project by Michael Welling was one of the inspirations for PocketBeagle, fitting into a mini-mint tin.

==== '''2.2.2 Rev A1'''  ====

The Rev A1 of PocketBeagle was a prototype not released to production.

==== '''2.2.3 Rev A2'''  ====

The Rev A2 of PocketBeagle was released to production and [https://www.prnewswire.com/news-releases/small-in-size--cost-meet-pocketbeagle-the-25-development-board-for-hobbyists-educators-and-professionals-300519950.html''launched at World MakerFaire 2017''].

= '''3.0 Connecting Up PocketBeagle ''' =

This section provides instructions on how to hook up your board. The most common scenario is tethering PocketBeagle to your PC for local development.

=== '''3.1 What’s In the Package'''  ===

In the package you will find two items as shown in '''Figures 2 and 3'''.

* PocketBeagle
* Getting Started instruction card with link to the support URL.
======  Figure 2. PocketBeagle Package  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/pocketbeagle_package_small_size.jpg]] 
======  Figure 3. PocketBeagle Package Insert  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-card-front-1.jpg]][[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-card-back-1.jpg]]

=== 3.2 Connecting the board ===

This section will describe how to connect to the board. Information can also be found on the Quick Start Guide that came in the box. Detailed information is also available at
[https://beagleboard.org/getting-started ''beagleboard.org/getting-started'' ]

The board can be configured in several different ways, but we will discuss the most common scenario.  Future revisions of this document may include additional configurations.

=== 3.3 Tethered to a PC using Debian Images ===

In this configuration, you will need the following additional items: 
* microUSB to USB Type A Cable
* microSD card (>=4GB and <128GB)

The board is powered by the PC via the USB cable, no other cables are required. The board is accessed either as a USB storage drive or via a web browser on the PC. You need to use either Firefox or Chrome on the PC, IE will not work properly. '''Figure 4''' shows this configuration.
======  Figure 4. Tethered Configuration  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB1-fullPC-3.jpg]]

In some instances, such as when additional add-on boards, or PocketCapes are connected, the PC may not be able to supply sufficient power for the full system. In that case, review the power requirements for the add-on board/cape; additional power may need to be supplied via the 5v input, but rarely is this the case.

==== 3.3.1 Getting Started  ====
The following steps will guide you to quickly download a PocketBeagle software image onto your microSD card and get started writing code.  

1.  Navigate to the Getting Started Page  [https://beagleboard.org/getting-started ''beagleboard.org/getting-started''] 
Follow along with the instructions and click on the link noted in Figure 5 below [https://beagleboard.org/latest-images ''beagleboard.org/latest-images'']. You can also get to this page directly by going to [https://bbb.io/latest ''bbb.io/latest'']
======  Figure 5. Getting Started Page  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/5fig-PB-GetStarted.png]]

2.  Download the latest image onto your computer by following the link to the latest image and click on the Debian image for Stretch IoT (non-GUI) for BeagleBone and PocketBeagle via microSD card. See Figure 6 below. This will download a .img.xz file into the downloads folder of your computer.

======  Figure 6. Download Latest Software Image  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/6fig-PB-DownloadSW.png]]

3. Transfer the image to a microSD card.  

Download and install an SD card programming utility if you do not already have one.  We like [https://etcher.io/ ''https://etcher.io/''] for new users and so we show that one in the steps below.  Go to your downloads folder and doubleclick on the .exe file and follow the on-screen prompts.  See figure 7.  

======  Figure 7. Download Etcher SD Card Utility  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/7fig-PB-Etcherdownload.png]]
 
Insert a new microSD card into a card reader/writer and attach it via the USB connection to your computer.  Follow the instructions on the screen for selecting the .img file and burning the image from your computer to the microSD card.  Eject the SD card reader when prompted and remove the card.  See Figures 8 and 9.

======  Figure 8. Select the PocketBeagle Image  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/8fig-PB-Etcherselectimage.png]]

======  Figure 9. Burn the Image to the SD Card  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/9fig-PB-Etcherfinish.png]]

4. Insert the microSD card into the board - you'll hear a satisfying click when it seats properly into the slot.  It is important that your microSD card is fully inserted prior to powering the system.

======  Figure 10. Insert the microSD Card into PocketBeagle  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/10fig-PB-SDcardinsert1.jpg]]

5. Connect the micro USB connector on your cable to the board as shown in Figure 11.  The microUSB connector is fairly robust, but we suggest that you not use the cable as a leash for your PocketBeagle.  Take proper care not to put too much stress on the connector or cable.

======  Figure 11. Insert the micro USB Connector into PocketBeagle  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/11fig-PB-microUSBattach1.jpg]]

6. Connect the large connector of the USB cable to your Linux, Mac or Windows PC USB port as shown in Figure 12. The board will power on and the power LED will be on as shown in Figure 13 below.

======  Figure 12. Insert the USB connector into PC  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/12fig-PB-USBtoPC1.jpg]]

======  Figure 13. Board Power LED  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/13fig-PB-PowerLED1.png]]

6. As soon as you apply power, the board will begin the booting process and the userLEDs '''Figure 14 ''' will come on in sequence as shown below. It will take a few seconds for the status LEDs to come on, so please be patient. The LEDs will be flashing as it begins to boot the Linux kernel.  While the four user LEDS can be over written and used as desired, they do have specific meanings in the image that you've initially placed on your microSD card once the Linux kernel has booted. 

* '''USER0''' is the heartbeat indicator from the Linux kernel.
* '''USER1''' turns on when the microSD card is being accessed
* '''USER2''' is an activity indicator. It turns on when the kernel is not in the idle loop.
* '''USER3''' idle
======  Figure 14. Use LEDs  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/14fig-PB-UserLEDs1.png]]

==== 3.3.2 Accessing the Board as a Storage Drive  ====

The board will appear as a USB Storage drive on your PC after the kernel has booted, which will take approximately 10 seconds. The kernel on the board needs to boot before the port gets enumerated. Once the board appears as a storage drive, do the following:

# Open the USB Drive folder.
# Click on the file named '''START.HTM'''
# The file running on PocketBeagle will be opened by the browser on your PC and you should get a display showing the Quick Start Guide.
# Your board is now operational! Follow the instructions on your computer screen to try out the BeagleBone 101 examples:
1.  'Step 1' Power and Boot (you've done this)
2.  'Step 2' Enable a Network Connection (pointing to the DHCP server that is running on PocketBeagle)
3.  'Step 3' Browse to your Beagle (Brings up a variety of familiar coding examples and tutorials - see figure x.x)
     These examples will run directly on your PocketBeagle from the browser.  You'll find tutorial examples in Bonescript, which uses familiar Arduino function calls (See figure x.x below) as well as using NodeRed and using Cloud 9 IDE.  

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-tutorials.png]]
======  Figure x. Beagle Tutorials  ======

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/Bonescript-ex.png]]
======  Figure x. Bonescript Examples  ======

==== 3.3.3  Powering Down ====

1. Standard Power Down: Press the power button momentarily with a tap. The system will power down automatically. This will shut down your software with grace.  Software routines will run to completion.  

2. Hard Power Down:  Press the power button for 10 seconds.  This will force an immediate shut down of the software.  For example you may lose any items you have written to the memory.  Holding the button longer than 10 seconds will perform a power reset and the system will power back on.

3. Remove the USB cable.  Remember to hold your board firmly at the USB connection while you remove the cable to prevent damage to the USB connector.

4. If you'd like to power up again without removing the USB cable follow these instructions:
# If you used Step 1 above to power down, to power back up, hold the power button for 10 seconds, release then tap it once and the system will boot normally.
# If you used Step 2 above to power down, to power back up, simply tap the power button and the system will boot normally.

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-powerbutton.png]]
======  Figure x. Power Button  ======

=== 3.4 Other ways to Connect up to your PocketBeagle  ===

==== 3.4.1 Development over a Network Connection  ====

Many host computers support tethering.  In this configuration, the board can be accessed via a shared connection to the internet with any computer. It allows you to create your code remotely and to make the board do whatever you need it to do from a remote location. Details are available at https://www.digikey.com/en/maker/blogs/cdf66181b3a5436e9ad730e4ed4cf9ee

==== 3.4.2 Other examples ====

As other examples become documented, we'll update them on the Wiki for PocketBeagle
[https://github.com/beagleboard/pocketbeagle/wiki ''github.com/beagleboard/pocketbeagle/wiki'' ]

See the [https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/beagleboard/JtOGZb-FH2A/9GVu7I6kAQAJ ''on-line discussion.'']

<blockquote> Method 4)The microUSB connector will act as a USB host. If using a USB-WiFi adapter, you'll need to configure connman to connect to your network initially, then reboot using the USB as a host rather than a client. You'll need to provide power to your board, but microUSB Host/OTG cables sometimes include the power input.
5)Adding the extra USB via the header - look at the FAQ for PocketBeagle
It is possible to add an additional USB port as described above.
6)You can utilize a mikroBUS Click Ethernet or wireless module.
7) There are many ways to utilize the expansion interface to create your own networking solution.
</blockquote> 

= '''4.0 PocketBeagle Overview ''' =
PocketBeagle is built around Octavo Systems' OSD335x-SM System-In-Package that integrates a high-performance Texas Instruments AM3358 processor, 512MB of DDR3, power management, nonvolatile serial memory and over 100 passive components into a single package.  This integration saves board space by eliminating several packages that would otherwise need to be placed on the board, but more notably simplifies our board design so we can focus on the user experience.   

The compact PocketBeagle design also offers access through the expansion headers to many of the interfaces and allows for the use of add-on boards called capes and click boards from microElectronica, to add many different combinations of features. A user may also develop their own board or add their own circuitry.

=== 4.1 PocketBeagle Features and Specification  ===

This section covers the specifications and features of the board in a chart and provides a high level description of the major components and interfaces that make up the board.

'''Table x.  PocketBeagle Features'''

{| {{table}}
| align="center" style="background:#f0f0f0;"|'''Feature'''
| align="center" style="background:#f0f0f0;"|''''''
|-
| System-In-Package||Octavo Systems OSD335x-SM in 256 Ball BGA (21mm x 21mm)
|-
| colspan="2" | SiP Incorporates : |
|-
| Processor||Texas Instruments 1GHz Sitara™ AM3358 ARM® Cortex®-A8 with NEON floating-point accelerator
|-
| Graphics Engine||Imagination Technologies PowerVR SGX530 Graphics Accelerator
|-
| Real-Time Units||2x programmable real-time unit (PRU) 32-bit 200MHz microcontrollers with single-cycle I/O latency
|-
| Coprocessor||ARM® Cortex®-M3 for power management functions
|-
| SDRAM Memory||512MB DDR3 800MHz RAM
|-
| Non-Volatile Memory||4KB I2C EEPROM for board configuration information
|-
| Power Management||TPS65217C PMIC along with TL5209 LDO to provide power to the system with integrated 1-cell LiPo battery support
|-
| colspan="2" | Connectivity : |
|-
| SD/MMC||Bootable microSD card slot
|-
| USB||High speed USB 2.0 OTG (host/client) micro-B connector
|-
| Debug Support||JTAG test points and gdb/other monitor-mode debug possible
|-
| Power Source||microUSB connector, also expansion header options (battery, VIN or USB-VIN)
|-
| User I/O||Power Button with press detection interrupt via TPS65217C PMIC
|-
| colspan="2" | Expansion Header : |
|-
| USB||High speed USB 2.0 OTG (host/client) control signals
|-
| Analog Inputs||8 analog inputs with 6 @ 1.8V and 2 @ 3.3V along with 1.8V references
|-
| Digital I/O||44 digital GPIOs accessible with 18 enabled by default including 2 shared with the 3.3V analog input pins
|-
| UART||3 UARTs accessible with 2 enabled by default
|-
| I2C||2 I2C busses enabled by default
|-
| SPI||2 SPI busseswith single chip selects enabled by default
|-
| PWM||4 Pulse Width Modulation outputs accessible with 2 enabled by default
|-
| QEP||2 Quadrature encoder inputs accessible
|-
| CAN||2 CAN bus controllers accessible
|-
| 
|}

==== 4.1.1 OSD3358-512M-BSM System in Package ====
The Octavo Systems OSD3358-512M-BSM System-In-Package (SiP) is part of a family of products that are building blocks designed to allow easy and cost-effective implementation of systems based in Texas Instruments powerful Sitara AM335x line of processors.  The OSD335x-SM integrates the AM335x along with the TI TPS65217C PMIC, the TI TL5209 LDO, up to 1 GB of DDR3 Memory, a 4 KB EEPROM for non-volatile configuration storage and resistors, capacitors and inductors into a single 21mm x 21mm design-in-ready package.

With this level of integration, the OSD335x-SM family of SiPs allows designers to focus on the key aspects of their system without spending time on the complicated high-speed design of the processor/DDR3 interface or the PMIC power distribution.  It reduces size and complexity of design.  

Full Datasheet and more information is available at [https://octavosystems.com/octavo_products/osd335x-sm/ ''https://octavosystems.com/octavo_products/osd335x-sm/'']

=== 4.2 Board Component Locations  ===

This section describes the key components on the board, their location and function. 

'''Figure x''' below shows the locations of the devices, connectors, LEDs, and switches on the PCB layout of the board.
====== Figure 21. Key Board Component Locations  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/21fig-PB-walkaround.png]]



'''Key Components'''

* '''The Octavo Systems OSD3358-512M-BSM System-In-Package''' is the processor for the board
* '''P1 and P2 Headers''' come unpopulated so a user may choose their orientation
* '''User LEDs'''provides 4 programmable blue LEDs
* '''Power BUTTON''' can we used to power up or power down the board (see section 3 for details)
* '''USB 2.0 OTG''' is a microUSB connection to a PC that can also power the board
* '''Power LED''' provides communication regarding the power to the board
* '''microSD''' slot is where a microSD card can be installed.

= '''5.0 PocketBeagle High Level Specification ''' =

This section provides the high level specification of PocketBeagle.

=== 5.1 Block Diagram  ===

'''Figure 19''' below is the high level block diagram of PocketBeagle.

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-block-diag3.png]]

'''Figure 19. PocketBeagle Key Components '''

=== 5.2 System in Package (SiP)  ===

Details here for SiP specification - The ODS335x-SM Block Diagram and links to appropriate details on the website

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/OSD335x-color-block.jpg]]

'''Figure 20. OSD335x SIP Block Diagram '''


<blockquote> There needs to be a list of the SiP features that are not accessible by the PB board pinout.  What do we want the block diagram to say regarding DDR3 memory size?</blockquote>
=== 5.3 Connectivity  ===

==== 5.3.1 Expansion Headers  ====

PocketBeagle gives access to a large number of peripheral functions and GPIO via 2 dual rail expansion headers.  With 36 pins each, the headers have been left unpopulated to enable users to choose the header connector orientation or add-on board / cape connector style.  Pins are clearly marked on the bottom of the board with additional pin configurations available through software settings.  Detailed information is available in Section 6.x and Section 7.    

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/fig-PB-Headerphoto.png]]
==== 5.3.2 microSD Connector  ====

The board is equipped with a single microSD connector to act as the primary boot source for the board.  Just about any microSD card you have will work, the install takes less than 2.0G of the memory.
<blockquote> Jason - what is the upper limit size on the microSD card</blockquote>

When plugging in the SD card, the writing on the card should be up. Align the card with the connector and push to insert. Then release. There should be a click and the card will start to eject slightly, but it then should latch into the connector. To eject the card, push the SD card in and then remove your finger. The SD card will be ejected from the connector.

Do not pull the SD card out or you could damage the connector.

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-microSDphoto.jpg]]
====== Figure 21. microSD Connector  ======

==== 5.3.3 USB 2.0 Connector  ====

The board has a microUSB connector that is USB 2.0 HS compatible that connects the USB0 port to the SiP.  Generally this port is used as a client USB port connected to a power source, such as your PC, to power the board. If you would like to use this port in host mode you will need to supply power for peripherals via Header P1 pin 7 (USB1.VIN) or through a powered USB Hub. Additionally, in the USB host configuration, you will need to power the board through Header P1 pin 1 (VIN) or Header P1 pin 7 (USB1.VIN) or Header P2 pin 14 (BAT.VIN)

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-USB-photo.png]]
====== Figure 22. USB 2.0 Connector  ======


==== 5.3.5 Boot Modes  ====

There are three boot modes:  <blockquote> Need to come back and edit this section </blockquote>

* '''SD Boot…''' microSD connector to act as the primary boot source for the board.
* '''Serial Boot…'''This mode will use the serial port to allow downloading of the software direct. A separate USB to serial cable is required to use this port.
* '''USB Boot…'''This mode supports booting over the USB port.

'''''Software to support USB and serial boot modes is not provided by beagleboard.org.'' ''Please contact TI for support of this feature.'' '''  <blockquote> where on the TI website (TI Linux SDK?) should we send them and is it supported for PocketBeagle </blockquote>

<blockquote>Editors note - we have a good section on the Octavo Systems website in the Tutorials that discusses the power button behavior is any of this applicable/useful? - go to https://octavosystems.com/app_notes/osd335x-design-tutorial/bare-minimum-boot/power-management/ and scroll down to "Power Button"</blockquote>

=== 5.4 Power  ===
<blockquote>Come back to this section with drawing of power sources</blockquote>

The board can be powered from three different sources:

* A USB port on a PC
* A power supply with a USB connector.
* Expansion connectors - 
** include utilizing to hook up a battery.

<blockquote>need to include more information in an app note separately regarding the  use of a battery as this is a key feature, but need discussion (EW).  </blockquote>

=== 5.12 JTAG Pads  ===

Pads for an optional connection to a JTAG emulator has been provided on the back of PocketBeagle. 
More information about JTAG emulation can be found on the TI website at [www.ti.com/jtag ''www.ti.com/jtag'']

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-JTAGpad-photo.png]]
====== Figure x. JTAG Pad Connections  ======

=== 5.4 Serial Debug Port  ===
<blockquote> Where do we put this section? </blockquote> 
<blockquote> pins 30/32 on the header - is this something to highlight </blockquote> 

<blockquote>Serial debug is provided via UART0 on the processor via a single 1x6 pin header. In order to use the interface a USB to TTL adapter will be required. The header is compatible with the one provided by FTDI and can be purchased for about $12 to $20 from various sources. Signals supported are TX and RX. None of the handshake signals are supported.</blockquote> 

= '''6.0 Detailed Hardware Design ''' =

The following sections describe the hardware design of PocketBeagle.
=== 6.1  OSD3358-SM SiP Design ===
Here are some words about how to read the schematics of the SiP.  how do differentiate the sections

==== 6.1.1 SiP A TitleA ====

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/SiP-A-sch.png]]
====== Figure x. SiP Connections  ======

==== 6.1.2 SiP B TitleB ====
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/SiP-B-sch.png]]
====== Figure x. SiP Connections  ======

==== 6.1.3 SiP C TitleC ====
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/SiP-C-sch.png]]
====== Figure x. SiP Connections  ======

==== 6.1.4 SiP D TitleD ====
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/SiP-D-sch.png]]
====== Figure x. SiP Connections  ======

==== 6.1.5 SiP E TitleE ====
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/SiP-E-sch.png]]
====== Figure x. SiP Connections  ======

==== 6.1.6 SiP F TitleF ====
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/SiP-F-sch.png]]
====== Figure x. SiP Connections  ======



=== 6.x  MicroSD Connection ===

Some words about the microSD connector design on the board here.

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/usdconnector-sch.png]]

====== Figure 22. microSD Connections  ======
=== 6.y USB Connector ===
Some words about the USB connector design on the board here.

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/USB-sch.png]]

====== Figure 23. microSD Connections  ======

=== 6.z Power Button Design ===
Some words about the Power Button design on the board here.

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/Power-button-sch.png]]

====== Figure 23. Power Button  ======

=== 6.aa User LEDs ===
Some words about the User LED design on the board here.

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/User-LEDs-sch.png]]


====== Figure 24. User LEDs  ======
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/JTAG-pads-sch.png]]

=== 6.12 PRU-ICSS  ===

The Programmable Real-Time Unit Subsystem and Industrial Communication SubSystem (PRU-ICSS) module is located inside the AM3358 processor, which is inside the Octavo Systems SiP. Commonly referred to as just the "PRU", this little subsystem will unleash a lot of performance to your application.  Consisting of dual 32-bit RISC cores (Programmable Real-Time Units, or PRUs), data and instruction memories, internal peripheral modules, and an interrupt controller (INTC). The programmable nature of the PRU-ICSS, along with their access to pins, events and all SoC resources, provides flexibility in implementing fast real-time responses, specialized data handling operations, custom peripheral interfaces, and in offloading tasks from the other processor cores of the system-on-chip (SoC). Access to these pins is provided by PocketBeagle's expansion headers and is multiplexed with other functions on the board. Access is not provided to all of the available pins.

Additional documentation is located on the Texas Instruments website at [http://processors.wiki.ti.com/index.php/PRU-ICSS ''http://processors.wiki.ti.com/index.php/PRU-ICSS''] and also located at [http://github.com/beagleboard/am335x_pru_package ''http://github.com/beagleboard/am335x_pru_package''.] 

==== 6.12.1 PRU-ICSS Features  ====

The features of the PRU-ICSS include:

Two independent programmable real-time (PRU) cores:

* 32-Bit Load/Store RISC architecture
* 8K Byte instruction RAM (2K instructions) per core
* 8K Bytes data RAM per core
* 12K Bytes shared RAM
* Operating frequency of 200 MHz
* PRU operation is little endian similar to ARM processor
* All memories within PRU-ICSS support parity
* Includes Interrupt Controller for system event handling
* Fast I/O interface

– 16 input pins and 16 output pins per PRU core. (Not all of these are accessible on the PocketBeagle.  Please check the Pin Table below for PRU-ICSS features available through the P1 and P2 headers.)

==== 6.12.2 PRU-ICSS Block Diagram  ====

'''Figure 49''' is a high level block diagram of the PRU-ICSS.

[[media/image67.png|427x275px]]

======= Figure 49. PRU-ICSS Block Diagram  =======

==== 6.12.3 PRU-ICSS Pin Access  ====

Both PRU 0 and PRU1 are accessible from the expansion headers.  Listed below are the ports that can be accessed on each PRU.

'''Table 11''' below shows which PRU-ICSS signals can be accessed on PocketBeagle and on which connector and pins on which they are accessible.  Some signals are accessible on the same pins.

=======  Table xx. PRU0 and PRU1 Access  =======
Use scroll bar at bottom of chart to see additional features in columns to the right
{| class="wikitable" style="white-space:nowrap;"
| Header.Pin
| Silkscreen
| Processor Ball
| SiP Ball
| Mode3
| Mode4
| Mode5
| Mode6
| Note
|-
| P1.02
| A6/87
| R5
| F2
| 
| 
| pr1_pru1_pru_r30_9 (Output)
| pr1_pru1_pru_r31_9 (Input)
| 
|-
| P1.04
| 89
| R6
| E1
| 
| 
| pr1_pru1_pru_r30_11 (Output)
| pr1_pru1_pru_r31_11 (Input)
| 
|-
| P1.06
| SPI0_CS
| A16
| A14
| 
| pr1_uart0_txd (Output)
| 
| 
| UART Transmit Data
|-
| P1.08
| SPI0_CLK
| A17
| A13
| 
| pr1_uart0_cts_n (Input)
| 
| 
| UART Clear to Send
|-
| P1.10
| SPI0_MISO
| B17
| B13
| 
| pr1_uart0_rts_n (Output)
| 
| 
| UART Request to Send
|-
| P1.12
| SPI0_MOSI
| B16
| B14
| 
| pr1_uart0_rxd (Input)
| 
| 
| UART Receive Data
|-
| P1.20
| 20
| D14
| B4
| 
| 
| pr1_pru0_pru_r31_16 (Input)
| 
|
|-
| P1.26
| I2C2_SDA
| D18
| B10
| 
| 
| pr1_uart0_cts_n (Input)
| 
| UART Clear to Send
|-
| P1.28
| I2C2_SCL
| D17
| A10
| 
| 
| pr1_uart0_rts_n (Output)
| 
| UART Request to Send
|-
| P1.29
| PRU0_7
| A14
| C4
| 
| 
| pr1_pru0_pru_r30_7 (Output)
| pr1_pru0_pru_r31_7 (Input)
| 
|-
| P1.30
| U0_TX
| E16
| B12
| 
| 
| pr1_pru1_pru_r30_15 (Output)
| pr1_pru1_pru_r31_15 (Input)
| 
|-
| P1.31
| PRU0_4
| B12
| A3
| 
| 
| pr1_pru0_pru_r30_4 (Output)
| pr1_pru0_pru_r31_4 (Input)
|
|- 
| P1.32
| U0_RX
| E15
| A12
| 
| 
| pr1_pru1_pru_r30_14 (Output)
| pr1_pru1_pru_r31_14 (Input)
| 
|-
| P1.33
| PRU0_1
| B13
| A2
| 
| 
| pr1_pru0_pru_r30_1 (Output)
| pr1_pru0_pru_r31_1 (Input)
| 
|-
| P1.35
| P1.10
| V5
| F1
| 
| 
| pr1_pru1_pru_r30_10 (Output)
| pr1_pru1_pru_r31_10 (Input)
| 
|-
| P1.36
| PWM0A
| A13
| A1
| 
| 
| pr1_pru0_pru_r30_0 (Output)
| pr1_pru0_pru_r31_0 (Input)
| 
|-
| P2.09
| I2C1_SCL
| D15
| B11
| 
| 
| pr1_uart0_txd (Output)
| pr1_pru0_pru_r31_16 (Input)
| UART Transmit Data
|-
| P2.11
| I2C1_SDA
| D16
| A11
| 
| 
| pr1_uart0_rxd (Input)
| pr1_pru1_pru_r31_16 (Input)
| UART Receive Data
|-
| P2.17
| 65
| V12
| T7
| 
| 
| pr1_mdio_mdclk
| 
| MDIO Clk
|-
| P2.18
| 47
| U13
| P7
| 
| 
| pr1_ecap0_ecap_capin_apwm_o
| pr1_pru0_pru_r31_15 (Input)
| Enhanced capture input or Auxiliary PWM out
|-
| P2.20
| 64
| T13
| R7
| 
| 
| pr1_mdio_data
| 
| MDIO Data
|-
| P2.22
| 46
| V13
| T6
| 
| 
| 
| pr1_pru0_pru_r31_14 (Input)
| 
|-
| P2.24
| 48
| T12
| P6
| 
| 
| 
| pr1_pru0_pru_r30_14 (Output)
| 
|-
| P2.28
| PRU0_6
| D13
| C3
| 
| 
| pr1_pru0_pru_r30_6 Output)
| pr1_pru0_pru_r31_6 (Input)
| 
|-
| P2.29
| SPI1_CLK
| C18
| C5
| pr1_ecap0_ecap_capin_apwm_o
| 
| 
| 
| Enhanced capture input or Auxiliary PWM out
|-
| P2.30
| PRU0_3
| C12
| B1
| 
| 
| pr1_pru0_pru_r30_3 (Output)
| pr1_pru0_pru_r31_3 (Input)
| 
|-
| P2.31
| SPI1_CS
| A15
| A4
| 
| 
| pr1_pru1_pru_r31_16 (Input)
| 
| 
|-
| P2.32
| PRU0_2
| D12
| B2
| 
| 
| pr1_pru0_pru_r30_2 (Output)
| pr1_pru0_pru_r31_2 (Input)
| 
|-
| P2.33
| 45
| R12
| R6
| 
| 
| 
| pr1_pru0_pru_r30_15 (Output)
| 
|-
| P2.34
| PRU0_5
| C13
| B3
| 
| 
| pr1_pru0_pru_r30_5 (Output)
| pr1_pru0_pru_r31_5 (Input)
| 
|-
| P2.35
| A5/86
| U5
| F3
| 
| 
| pr1_pru1_pru_r30_8 (Output)
| pr1_pru1_pru_r31_8 (Input)
|}

= '''7.0 Connectors ''' =

This section describes each of the connectors on the board.

=== 7.1 Expansion Connectors  ===

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PB-header-photo.png]]

The expansion interface on the board is comprised of two 46 pin connectors. All signals on the expansion headers are '''''3.3V''''' unless otherwise indicated.

'''''NOTE: Do not connect 5V logic level signals to these pins or the board will be'' ''damaged.'' '''

'''NOTE: DO NOT APPLY VOLTAGE TO ANY I/O PIN WHEN POWER IS NOT SUPPLIED TO THE BOARD. IT WILL DAMAGE THE PROCESSOR AND VOID THE WARRANTY. '''

'''NO PINS ARE TO BE DRIVEN UNTIL AFTER THE SYS_RESET LINE GOES HIGH. '''

'''Figure 50''' shows the location of the expansion connectors.
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PocketBeagle_pinout.png]]
====== Figure 50. Expansion Connector Location  ======

=== 7.1.1 P1 Header  ===
Words about the design of the P1 Header
[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/Header-P1-sch.png]]
====== Figure x. P1 Header  ======

====== Table 7.1.1 P1 Header Pinout ======
Use scroll bar at bottom of chart to see additional features in columns to the right
{| class="wikitable" style="white-space:nowrap;"
| Header.Pin
| Silkscreen
| PocketBeagle wiring
| Proc Ball
| SiP Ball
| Mode0 (Name)
| Mode1
| Mode2
| Mode3
| Mode4
| Mode5
| Mode6
| Mode7
|- 
| P1.01
| VIN
| P1.01 (VIN)
| 
| P10 & R10 & T10
| VIN
| 
| 
| 
| 
| 
|
| 
|- 
| P1.02
| A6/87
| P1.02 (AIN6/GPIO87)
| A8
| C9
| ain6
| 
| 
| 
| 
| 
| 
|
|- 
| P1.02
| A6/87
| P1.02 (AIN6/GPIO87)
| R5
| F2
| lcd_hsync
| gpmc_a9
| gpmc_a2
| pr1_edio_data_in3
| pr1_edio_data_out3
| pr1_pru1_pru_r30_9
| pr1_pru1_pru_r31_9
| gpio2_23
|-
| P1.03
| USB1_EN 
| P1.03 (USB1-DRVVBUS)
| F15
| M14
| USB1_DRVVBUS
| -
| -
| -
| -
| -
| -
| gpio3_13
|-
| P1.04
| 89 
| P1.04 (PRU1.11)
| R6
| E1
| lcd_ac_bias_en
| gpmc_a11
| pr1_mii1_crs
| pr1_edio_data_in5
| pr1_edio_data_out5
| pr1_pru1_pru_r30_11
| pr1_pru1_pru_r31_11
| gpio2_25
|-
| P1.05
| USB1_VB 
| P1.05 (USB1-VBUS)
| T18
| M15
| USB1_VBUS
| -
| -
| -
| -
| -
| -
| -
|-
| P1.06
| SPI0_CS
| P1.06 (SPI0-CS)
| A16
| A14
| spi0_cs0
| mmc2_sdwp
| I2C1_SCL
| ehrpwm0_synci
| pr1_uart0_txd
| pr1_edio_data_in1
| pr1_edio_data_out1
| gpio0_5
|-
| P1.07
| USB1_VI 
| P1.07 (VIN-USB)
| 
| P9 &R9 &T9
| VIN-USB
| 
| 
| 
| 
| 
| 
|
|- 
| P1.08
| SPI0_CLK
| P1.08 (SPI0-CLK)
| A17
| A13
| spi0_sclk
| uart2_rxd
| I2C2_SDA
| ehrpwm0A
| pr1_uart0_cts_n
| pr1_edio_sof
| EMU2
| gpio0_02
|-
| P1.09
| USB1 - 
| P1.09 (USB1-DN)
| R18
| L16
| USB1_DM
| -
| -
| -
| -
| -
| -
| -
|-
| P1.10
| SPI0_MISO
| P1.10 (SPI0-MISO)
| B17
| B13
| spi0_d0
| uart2_txd
| I2C2_SCL
| ehrpwm0B 
| pr1_uart0_rts_n
| pr1_edio_latch_in
| EMU3
| gpio0_3
|-
| P1.11
| USB1 +
| P1.11 (USB1-DP)
| R17
| L15
| USB1_DP
| -
| -
| -
| -
| -
| -
| -
|-
| P1.12
| SPI0_MOSI
| P1.12 (SPI0-MOSI)
| B16
| B14
| spi0_d1
| mmc1_sdwp
| I2C1_SDA
| ehrpwm0_tripzone_input
| pr1_uart0_rxd 
| pr1_edio_data_in0 
| pr1_edio_data_out0
| gpio0_04
|-
| P1.13
| USB1_ID
| P1.13 (USB1-ID)
| P17
| L14
| USB1_ID
| -
| -
| -
| -
| -
| -
| -
|-
| P1.14
| +3.3V
| P1.14 (VOUT-3.3V)
| 
| F6 & F7 & G6 & G7
| VOUT-3.3V
| 
| 
| 
| 
| 
| 
|
|- 
| P1.15
| USB1_GND
| P1.15 (GND)
| 
| 
| GND
| 
| 
| 
| 
| 
|
| 
|- 
| P1.16
| GND
| P1.16 (GND)
| 
| 
| GND
| 
| 
| 
| 
| 
|
| 
|- 
| P1.17
| AIN(1.8V)-
| P1.17 (VREFN)
| A9
| B9
| VREFN
| 
| 
| 
| 
| 
|
| 
|- 
| P1.18
| AIN(1.8V)A+
| P1.18 (VREFP)
| B9
| B7
| VREFP
| 
| 
| 
| 
| 
|
| 
|-
| P1.19
| AIN(1.8V)0
| P1.19 (AIN0-1.8V)
| B6
| A8
| ain0
| 
| 
| 
| 
| 
| 
| 
|-
| P1.20
| 20
| P1.20 (PRU0.16)
| D14
| B4
| xdma_event_intr1
| -
| tclkin
| clkout2
| timer7
| pr1_pru0_pru_r31_16
| EMU3
| gpio0_20
|-
| P1.21
| AIN(1.8V)1
| P1.21 (AIN1-1.8V)
| C7
| B8
| ain1
| 
| 
| 
| 
| 
| 
|
|- 
| P1.22
| GND
| P1.22 (GND)
| 
| 
| GND
| 
| 
| 
| 
| 
| 
| 
|-
| P1.23
| AIN(1.8V)2
| P1.23 (AIN2-1.8V)
| B7
| B6
| ain2
| 
| 
| 
| 
| 
| 
| 
|-
| P1.24
| VOUT
| P1.24 (VOUT-5V)
| 
| K6 & K7 & L6 & L7
| VOUT-5V
| 
| 
| 
| 
| 
| 
| 
|-
| P1.25
| AIN(1.8V)3
| P1.25 (AIN3-1.8V)
| A7
| C6
| ain3
| 
| 
| 
| 
| 
| 
| 
|-
| P1.26
| I2C2_SDA
| P1.26 (I2C2-SDA)
| D18
| B10
| uart1_ctsn
| timer6
| dcan0_tx
| I2C2_SDA
| spi1_cs0
| pr1_uart0_cts_n
| pr1_edc_latch0_in
| gpio0_12
|-
| P1.27
| AIN(1.8V)4
| P1.27 (AIN4-1.8V)
| C8
| C7
| ain4
| 
| 
| 
| 
| 
| 
| 
|-
| P1.28
| I2C2_SCL
| P1.28 (I2C2-SCL)
| D17
| A10
| uart1_rtsn
| timer5
| dcan0_rx
| I2C2_SCL
| spi1_cs1 
| pr1_uart0_rts_n
| pr1_edc_latch1_in
| gpio0_13
|-
| P1.29
| PRU0_7
| P1.29 (PRU0.7)
| A14
| C4
| mcasp0_ahclkx
| eQEP0_strobe
| mcasp0_axr3
| mcasp1_axr1
| EMU4
| pr1_pru0_pru_r30_7
| pr1_pru0_pru_r31_7 
| gpio3_21
|-
| P1.30
| U0_TX
| P1.30 (UART0-TX)
| E16
| B12
| uart0_txd
| spi1_cs1
| dcan0_rx
| I2C2_SCL
| eCAP1_in_PWM1_out
| pr1_pru1_pru_r30_15
| pr1_pru1_pru_r31_15 
| gpio1_11
|-
| P1.31
| PRU0_4 
| P1.31 (PRU0.4)
| B12
| A3
| mcasp0_aclkr
| eQEP0A_in
| mcasp0_axr2
| mcasp1_aclkx
| mmc0_sdwp
| pr1_pru0_pru_r30_4
| pr1_pru0_pru_r31_4 
| gpio3_18
|-
| P1.32
| U0_RX
| P1.32 (UART0-RX)
| E15
| A12
| uart0_rxd 
| spi1_cs0 
| dcan0_tx
| I2C2_SDA
| eCAP2_in_PWM2_out
| pr1_pru1_pru_r30_14
| pr1_pru1_pru_r31_14
| gpio1_10
|-
| P1.33
| PRU0_1
| P1.33 (PRU0.1)
| B13
| A2
| mcasp0_fsx
| ehrpwm0B
| -
| spi1_d0
| mmc1_sdcd
| pr1_pru0_pru_r30_1
| pr1_pru0_pru_r31_1 
| gpio3_15
|-
| P1.34
| 26 
| P1.34 (GPIO0.26)
| T11
| R5
| gpmc_ad10
| lcd_data21
| mmc1_dat2 
| mmc2_dat6 
| ehrpwm2_tripzone_input 
| pr1_mii0_txen 
| -
| gpio0_26
|-
| P1.35
| P1.10
| P1.35 (PRU1.10)
| V5
| F1
| lcd_pclk
| gpmc_a10
| pru_mii0_crs
| pr1_edio_data_in4
| pr1_edio_data_out4 
| pr1_pru1_pru_r30_10 
| pr1_pru1_pru_r31_10
| gpio2_24
|-
| P1.36
| PWM0A
| P1.36 (PWM0A)
| A13
| A1
| mcasp0_aclkx
| ehrpwm0A
| -
| spi1_sclk
| mmc0_sdcd
| pr1_pru0_pru_r30_0
| pr1_pru0_pru_r31_0
| gpio3_14
|}


=== 7.1.2 P2 Header  ===

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/Header-P2-sch.png]]
====== Figure x. P2 Header  ======

====== Table 7.1.2 P2 Header Pinout ======
Use scroll bar at bottom of chart to see additional features in columns to the right
{| class="wikitable" style="white-space:nowrap;"
| Header.Pin
| Silkscreen
| PocketBeagle wiring
| Proc Ball
| SiP Ball
| Mode0 (Name)
| Mode1
| Mode2
| Mode3
| Mode4
| Mode5
| Mode6
| Mode7
|-
| P2.01
| PWM1A
| P2.01 (PWM1A)
| U14
| P12
| gpmc_a2
| gmii2_txd3
| rgmii2_td3
| mmc2_dat1
| gpmc_a18
| pr1_mii1_txd2
| ehrpwm1A
| gpio1_18
|-
| P2.02
| 59
| P2.02 (GPIO1.27)
| V17
| T16
| gpmc_a11
| gmii2_rxd0
| rgmii2_rd0
| rmii2_rxd0 
| gpmc_a27 
| pr1_mii1_rxer
| mcasp0_axr1 
| gpio1_27
|-
| P2.03
| 23
| P2.03 (GPIO0.23)
| T10
| P5
| gpmc_d9
| lcd_data22 
| mmc1_dat1
| mmc2_dat5 
| ehrpwm2B
| pr1_mii0_col 
| -
| gpio0_23
|-
| P2.04
| 58
| P2.04 (GPIO1.26)
| T16
| R15
| gpmc_a10
| gmii2_rxd1
| rgmii2_rd1
| rmii2_rxd1
| gpmc_a26
| pr1_mii1_rxdv
| mcasp0_axr0
| gpio1_26
|-
| P2.05
| U1_RX
| P2.05 (UART4-RX)
| T17
| P15
| gpmc_wait0
| gmii2_crs 
| gpmc_csn4
| rmii2_crs_dv
| mmc1_sdcd 
| pr1_mii1_col
| uart4_rxd 
| gpio0_30
|-
| P2.06
| 57
| P2.06 (GPIO1.25)
| U16
| T15
| gpmc_a9
| gmii2_rxd2
| rgmii2_rd2
| mmc2_dat7 / rmii2_crs_dv
| gpmc_a25
| pr1_mii_mr1_clk
| mcasp0_fsx
| gpio1_25
|-
| P2.07
| U1_TX
| P2.07 (UART4-TX)
| U17
| R16
| gpm_ wp
| gmii2_rxerr
| gpmc_csn5 
| rmii2_rxerr
| mmc2_sdcd 
| pr1_mii1_txen
| uart4_txd
| gpio0_31
|-
| P2.08
| 60
| P2.08 (GPIO1.28)
| U18
| N14
| gpmc_be1n
| gmii2_col
| gpmc_csn6
| mmc2_dat3
| gpmc_dir
| pr1_mii1_rxlink 
| mcasp0_aclkr
| gpio1_28
|-
| P2.09
| I2C1_SCL
| P2.09 (I2C1-SCL)
| D15
| B11
| uart1_txd
| mmc2_sdwp
| dcan1_rx 
| I2C1_SCL
| -
| pr1_uart0_txd
| pr1_pru0_pru_r31_16
| gpio0_15
|-
| P2.10
| 52
| P2.10 (GPIO1.20)
| R14
| R13
| gpmc_a4
| gmii2_txd1
| rgmii2_td1
| rmii2_txd1 
| gpmc_a20
| pr1_mii1_txd0
| eQEP1A_in
| gpio1_20
|-
| P2.11
| I2C1_SDA
| P2.11 (I2C1-SDA)
| D16
| A11
| uart1_rxd
| mmc1_sdwp
| dcan1_tx
| I2C1_SDA
| -
| pr1_uart0_rxd
| pr1_pru1_pru_r31_16 
| gpio0_14
|-
| P2.12
| PB
| P2.12 (POWER_BTN)
| 
| T11
| POWER
| 
| 
| 
| 
| 
| 
| 
|-
| P2.13
| VOUT
| P2.13 (VOUT-5V)
| 
| K6 & K7 & L6 & L7
| VOUT-5V
| 
| 
| 
| 
| 
| 
| 
|-
| P2.14
| BAT +
| P2.14 (VIN-BAT)
| 
| P8 & R8 & T8
| VIN-BAT
| 
| 
| 
| 
| 
| 
| 
|-
| P2.15
| GND
| P2.15 (GND)
| 
| 
| GND
| 
| 
| 
| 
| 
| 
| 
|-
| P2.16
| BAT -
| P2.16 (BAT-TEMP)
| 
| N6
| BAT-TEMP
| 
| 
| 
| 
| 
| 
| 
|-
| P2.17
| 65
| P2.17 (GPIO2.1)
| V12
| T7
| gpmc_clk
| lcd_memory_clk
| gpmc_wait1 
| mmc2_clk
| pr1_mii1_crs
| pr1_mdio_mdclk
| mcasp0_fsr
| gpio2_01
|-
| P2.18
| 47
| P2.18 (PRU0.15i)
| U13
| P7
| gpmc_ad15
| lcd_data16
| mmc1_dat7
| mmc2_dat3
| eQEP2_strobe
| pr1_ecap0_ecap_capin_apwm_o
| pr1_pru0_pru_r31_15
| gpio1_15P
|-
| 2.19
| 27
| P2.19 (GPIO0.27)
| U12
| T5
| gpmc_ad11
| lcd_data20
| mmc1_dat3
| mmc2_dat7
| ehrpwm0_synco 
| pr1_mii0_txd3
| -
| gpio0_27
|-
| P2.20
| 64
| P2.20 (GPIO2.0)
| T13
| R7
| gpmc_csn3
| gpmc_a3
| rmii2_crs_dv
| mmc2_cmd
| pr1_mii0_crs
| pr1_mdio_data
| EMU4
| gpio2_00
|-
| P2.21
| GND
| P2.21 (GND)
| 
| 
| GND
| 
| 
| 
| 
| 
| 
|
|-
| P2.22
| 46
| P2.22 (GPIO1.14)
| V13
| T6
| gpmc_ad14
| lcd_data17
| mmc1_dat6
| mmc2_dat2
| eQEP2_index
| pr1_mii0_txd0
| pr1_pru0_pru_r31_14
| gpio1_14
|-
| P2.23
| +3.3V
| P2.23 (VOUT-3.3V)
| 
| F6 & F7 & G6 & G7
| VOUT-3.3V
| 
| 
| 
| 
| 
| 
| 
|-
| P2.24
| 48
| P2.24 (GPIO1.12)
| T12
| P6
| gpmc_ad12
| lcd_data19
| mmc1_dat4
| mmc2_dat0
| eQEP2A_in
| pr1_mii0_txd2
| pr1_pru0_pru_r30_14
| gpio1_12
|-
| P2.25
| SPI1_MOSI
| P2.25 (SPI1-MOSI)
| E17
| C13
| uart0_rtsn
| uart4_txd
| dcan1_rx
| I2C1_SCL
| spi1_d1
| spi1_cs0
| pr1_edc_sync1_out 
| gpio1_09
|-
| P2.26
| RST
| P2.26 (NRESET)
| A10
| R11
| nRESETIN_OUT
| -
| -
| -
| -
| -
| -
| -
|-
| P2.27
| SPI1_MISO
| P2.27 (SPI1-MISO)
| E18
| C12
| uart0_ctsn
| uart4_rxd
| dcan1_tx
| I2C1_SDA
| spi1_d0
| timer7
| pr1_edc_sync0_out
| gpio1_08
|-
| P2.28
| PRU0_6
| P2.28 (PRU0.6)
| D13
| C3
| mcasp0_axr1
| eQEP0_index
| -
| mcasp1_axr0
| EMU3
| pr1_pru0_pru_r30_6
| pr1_pru0_pru_r31_6
| gpio3_20
|-
| P2.29
| SPI1_CLK
| P2.29 (SPI1-CLK)
| C18
| C5
| eCAP0_in_PWM0_out
| uart3_txd
| spi1_cs1
| pr1_ecap0_ecap_capin_apwm_o
| spi1_sclk
| mmc0_sdwp
| xdma_event_intr2
| gpio0_7
|-
| P2.30
| PRU0_3
| P2.30 (PRU0.3)
| C12
| B1
| mcasp0_ahclkr
| ehrpwm0_synci
| mcasp0_axr2
| spi1_cs0
| eCAP2_in_PWM2_out
| pr1_pru0_pru_r30_3
| pr1_pru0_pru_r31_3
| gpio3_17
|-
| P2.31
| SPI1_CS
| P2.31 (SPI1-CS)
| A15
| A4
| xdma_event_intr0
| -
| timer4
| clkout1
| spi1_cs1
| pr1_pru1_pru_r31_16
| EMU2
| gpio0_19
|-
| P2.32
| PRU0_2
| P2.32 (PRU0.2)
| D12
| B2
| mcasp0_axr0
| ehrpwm0_tripzone_input
| -
| spi1_d1
| mmc2_sdcd
| pr1_pru0_pru_r30_2
| pr1_pru0_pru_r31_2
| gpio3_16
|-
| P2.33
| 45
| P2.33 (GPIO1.13)
| R12
| R6
| gpmc_ad13
| lcd_data18
| mmc1_dat5
| mmc2_dat1
| eQEP2B_in
| pr1_mii0_txd1
| pr1_pru0_pru_r30_15
| gpio1_13
|-
| P2.34
| PRU0_5
| P2.34 (PRU0.5)
| C13
| B3
| mcasp0_fsr
| eQEP0B_in
| mcasp0_axr3
| mcasp1_fsx
| EMU2
| pr1_pru0_pru_r30_5
| pr1_pru0_pru_r31_5
| gpio3_19
|-
| P2.35
| A5/86
| P2.35 (AIN5/GPIO86)
| B8
| C8
| ain5
| 
| 
| 
| 
| 
| 
|
|-
| P2.35
| A5/86
| P2.35 (AIN5/GPIO86)
| U5
| F3
| lcd_vsync
| gpmc_a8
| gpmc_a1
| pr1_edio_data_in2
| pr1_edio_data_out2
| pr1_pru1_pru_r30_8
| pr1_pru1_pru_r31_8
| gpio2_22
|}


=== 7.2 mikroBUS socket connections ===
The headers on PocketBeagle support the mikroBUS™ standard.  Up to two mikro Click Boards can be added to the header pins at the same time.  The mikroBUS standard comprises a pair of 1×8 female headers with a standardized pin configuration. The pinout (always laid out in the same order) consists of three groups of communications pins (SPI, UART and I2C), six additional pins (PWM, Interrupt, Analog input, Reset and Chip select), and two power groups (+3.3V and 5V).

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/mikrobus-socket-pinout.jpg]]
====== Figure x. mikroBUS  ======

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/Header-both-sch.png]]
====== Figure x. PocketBeagle Both Headers  ======

=== 7.3 USB   ===
=== USB1 Host Port  ===

<blockquote> this is on the header </blockquote>
Old wording - need new "On the board is a single USB Type A female connector with full LS/FS/HS Host support that connects to USB1 on the processor. The port can provide power on/off control and up to 500mA of current at 5V. Under USB power, the board will not be able to supply the full 500mA, but should be sufficient to supply enough current for a lower power USB device supplying power between 50 to 100mA."

=== 7.4 Setting up an additional USB connection ===

<blockquote> Reference the example already completed on the FAQ for adding a USB connection </blockquote>

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PocketBeagle_microUSB_bb.png]]

=== 7.5 Serial connection through the pin on the header  ===

details on how to connect and boot through Serial


====== Figure 54. Serial Debug through pins on the header ======

Two signals are provided, TX and RX on this connector. The levels on these signals are 3.3V. In order to access these signals, a FTDI USB to Serial cable is recommended as shown in '''Figure 55''' below.

[[media/image73.jpg|428x162px]]

The cable can be purchased from several different places and must be the 3.3V version TTL-232R-3V3. Information on the cable itself can be found direct from FTDI at:

[http://www.ftdichip.com/Support/Documents/DataSheets/Cables/DS_TTL-232R_CABLES.pdf ''http://www.ftdichip.com/Support/Documents/DataSheets/Cables/DS_TTL232R_CABLES.pdf'' ]

Pin 1 of the cable is the black wire. That must align with the pin 1 on the board which is designated by the white dot next to the connector on the board.

Refer to the support WIKI [http://elinux.org/BeagleBoneBlack ''http://elinux.org/BeagleBoneBlack''] for more sources of this cable and other options that will work.

Table is the pinout of the connector as reflected in the schematic. It is the same as the

FTDI cable which can be found at

[http://www.ftdichip.com/Support/Documents/DataSheets/Cables/DS_TTL-232R_CABLES.pdf ''http://www.ftdichip.com/Support/Documents/DataSheets/Cables/DS_TTL-232R_CABLES.pdf'']

with the exception that only three pins are used on the board. The pin numbers are defined in '''Table 14'''. The signals are from the perspective of the board.

======  Table 14. J1 Serial Header Pins  ======

{|
! PIN NUMBER
! SIGNAL
|-
|
'''1 '''
|
Ground
|-
|
'''4 '''
|
Receive
|-
|
'''5 '''
|
Transmit
|}

'''Figure 56''' shows the pin location on the board.

[[media/image75.jpg|373x374px]]

'''Figure 56. Serial Header '''



=== 7.9 JTAG PADs and circuitry  ===

A place for an optional 20 pin CTI JTAG header is provided on the board to facilitate the SW development and debugging of the board by using various JTAG emulators. This header is not supplied standard on the board. To use this, a connector will need to be soldered onto the board.

If you need the JTAG connector you can solder it on yourself. No other components are needed. The connector is made by Samtec and the part number is FTR-110-03-G-D-06. You can purchase it from [http://www.digikey.com/ ''www.digikey.com''.]

= '''8.0 Cape Support ''' =
<blockquote> Need a separate section for developing new capes </blockquote>

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PocketBeagle_pinout.png]]

=== 8.2 Click Board circuitry and using them  =

= '''9.0 PocketBeagle Mechanical ''' =

=== 9.1 Dimensions and Weight  ===

Editors note : this is only a placeholder

Size: 3.5” x 2.15” (86.36mm x 53.34mm)

Max height: .187” (4.76mm)

PCB Layers: 4

PCB thickness: .062” 

RoHS Compliant: Yes

Weight: 1.4 oz

=== 9.2 Silkscreen and Component Locations  ===

[[media/image88.jpg|530x782px]]

====== Figure 71. Board Dimensions  ======

[[media/image89.jpg|493x818px]]

====== Figure 72. Component Side Silkscreen  ======

[[media/image90.jpg|501x772px]]

'''Figure 73. Circuit Side Silkscreen '''

= '''10.0 Pictures ''' =

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PocketBeagle_Front_BW.jpg]]

'''Figure 74. Top Side '''

[[https://github.com/jadonk/pocketbeagle-wiki/blob/master/images/PocketBeagle_Back_BW.jpg]]


'''Figure 75. Bottom Side '''

= '''11.0 Support Information ''' =

All support for this design is through the BeagleBoard.org community at:

''beagleboard@googlegroups.com'' or

[http://beagleboard.org/discuss ''http://beagleboard.org/discuss''] .

=== 11.1 Hardware Design  ===

Design documentation can be found on the wiki. [https://github.com/beagleboard/pocketbeagle ''https://github.com/beagleboard/pocketbeagle'']
Including:

* Schematic in PDF  [https://github.com/beagleboard/pocketbeagle/blob/master/PocketBeagle_sch.pdf ''https://github.com/beagleboard/pocketbeagle/blob/master/PocketBeagle_sch.pdf'']
* Schematic in KiCAD [https://github.com/beagleboard/pocketbeagle/tree/master/KiCAD ''https://github.com/beagleboard/pocketbeagle/tree/master/KiCAD'']
* PCB Gerber
* PCB Layout (Allegro)
* Bill of Material
* System Reference Manual (This document).

=== 11.2 Software Updates  ===

It is a good idea to always use the latest software. Instructions for how to update your software to the latest version can be found at:

Download the latest software files from [https://beagleboard.org/latest-images ''beagleboard.org/latest-images'']

=== 11.3 RMA Support  ===

If you feel your board is defective or has issues, request an RMA by filling out the form at [http://beagleboard.org/support/rma ''http://beagleboard.org/support/rma''] . You will need the serial number and revision of the board. The serial numbers and revisions keep moving. Different boards can have different locations depending on when they were made. The following figures show the three locations of the serial and revision number.

[[media/image93.jpg|518x308px]]

====== Figure 76. Initial Serial Number and Revision Locations  ======

[[media/image94.jpg|518x230px]]

====== Figure 77. Second Phase Serial Number and Revision Location  ======

[[media/image95.jpg|575x222px]]

'''Figure 78. Third Phase Serial Number and Revision Location '''

== 11.4.7 Getting Help  ==

If you need some up to date troubleshooting techniques, we have a Wiki set up at [https://github.com/beagleboard/pocketbeagle/wiki ''https://github.com/beagleboard/pocketbeagle/wiki'' ]

== other things to add and Notes to cathy ==
* System/software sections in SRM regarding usage of:
- GPIO (LEDs https://gist.github.com/jadonk/d740c45b04bf0298da03075327c38d60, GPIOs pretty good example https://falsinsoft.blogspot.com/2012/11/access-gpio-from-linux-user-space.html, my favorite, but requiring some better background: https://github.com/beagleboard/beaglebone-blue/wiki/One-Liner-Module-Tests#GP0)
- SPI with special added section on LCDs
- I2C
- UART including enabling/disabling consoles and mikrobus power impacts
- PRU with and without RPMsg and mmap
- pinmux helpers
- CAN
- USB host, client and power control



 === 4.3 BeagleBone Black Compatibility  ===

<blockquote> important to have a chart and section telling users which header pins on BeagleBone Black are available and where on PocketBeagle.  Include a full pin list. not sure this should be here, perhaps later in the section about the headers. </blockquote>

<blockquote>'''This is a section about any hardware/software board compatibility between PocketBeagle and BeagleBone Black.  Is this an opportunity to highlight that projects previously developed for BeagleBone Black can be easily ported to PocketBeagle for xyz ...'''  </blockquote>
The board can be configured in several different ways, but we will discuss the most common scenario.

* Tethered to a PC via the USB cable with local development
** Board is accessed as a storage drive through standard windows/mac folders
** Board is accessed via ethernet over USB (RNDIS Ethernet) communication
* Connecting PocketBeagle to a PC via USB cable and configuring to share access
** Board is accessed via the internet

